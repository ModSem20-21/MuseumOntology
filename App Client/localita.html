<!doctype html>
<html  class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css" rel="stylesheet" type="text/css">
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample08" aria-controls="navbarsExample08" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-md-center" id="navbarsExample08">
          <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="index.html">Home<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="localita.html">Località<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="collezioni.html">Collezioni<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <!--<a class="nav-link" href="#">Link</a>-->
              <a class="nav-link" href="artisti.html">Grandi artisti<span class="sr-only">(current)</span></a>
            </li>
          </ul>
        </div>
    </nav>
  </header>

  <div class="content">
    <div class="col-md-8 ml-auto mr-auto">
        <div class="card-body ">
            <!--suddivisione in continenti    -->
            <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-center" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#europa" role="tablist">
                  <i class="now-ui-icons objects_umbrella-13"></i>
                  Europa
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#america" role="tablist">
                  <i class="now-ui-icons shopping_shop"></i>
                  America
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#asia" role="tablist">
                  <i class="now-ui-icons shopping_shop"></i>
                  Asia
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#oceania" role="tablist">
                  <i class="now-ui-icons shopping_shop"></i>
                  Oceania
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#africa" role="tablist">
                  <i class="now-ui-icons shopping_shop"></i>
                  Africa
                </a>
              </li>
            </ul>

            <div class="tab-content tab-space tab-subcategories">
              <!-- ciò che viene restituito selezionando Europa -->
              <div class="tab-pane active" id="europa">
                <ul class="nav nav-pills nav-pills-primary nav-pills-icons justify-content-center" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#italia" role="tablist">
                      <i class="now-ui-icons objects_umbrella-13"></i>
                      Italia
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#francia" role="tablist">
                      <i class="now-ui-icons shopping_shop"></i>
                      Francia
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#inghilterra" role="tablist">
                      <i class="now-ui-icons shopping_shop"></i>
                      Inghilterra
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#germania" role="tablist">
                      <i class="now-ui-icons shopping_shop"></i>
                      Germania
                    </a>
                  </li>
                </ul>

                <div class="tab-content tab-space tab-subcategories">
                    <!-- tabella museo - città -->
                    <div class="tab-pane active" id="italia">
                        <div style="background-color: white;">
                            <table id="table11" class="table table-striped" style="width:100%; margin-top:3em;">
                            <tr id="head">
                                <th id="table" cope="col" style="width:20%;">Museo</th>
                                <th scope="col" >Città</th>
                            </tr>
                                <tr id="consoleName">
                            </tr>
                            </table>
                        </div>
                    </div>

                    <div class="tab-pane" id="francia">
                        <div style="background-color: white;">
                        <table id="table12" class="table table-striped" style="width:100%; margin-top:3em;">
                            <tr id="head">
                            <th id="table" cope="col" style="width:20%;">Museo</th>
                            <th scope="col" >Città</th>
                            </tr>
                                <tr id="consoleName">
                            </tr>
                        </table>
                    </div>

                    </div>
                    <div class="tab-pane" id="inghilterra">
                            <div style="background-color: white;">
                            <table id="table13" class="table table-striped" style="width:100%; margin-top:3em;">
                                <tr id="head">
                                    <th id="table" cope="col" style="width:20%;">Museo</th>
                                    <th scope="col" >Città</th>
                                </tr>
                                    <tr id="consoleName">
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="tab-pane" id="germania">
                        <div style="background-color: white;">
                        <table id="table14" class="table table-striped" style="width:100%; margin-top:3em;">
                            <tr id="head">
                            <tr id="head">
                                <th id="table" cope="col" style="width:20%;">Museo</th>
                                <th scope="col" >Città</th>
                            </tr>
                            <tr id="consoleName">
                            </tr>
                        </table>
                        </div>
                    </div>
                  <!-- Queste tabelle conterranno il contenuto delle prime query-->
                </div>
              </div>

              <!-- corrisponde al contenuto restituito da America -->
              <div class="tab-pane" id="america">
                <div class="tab-content tab-space tab-subcategories">
                  <div class="tab-pane active" id="america">
                          <div style="background-color: rgb(255, 255, 255);">
                            <table id="table21" class="table table-striped" style="width:100%; margin-top:3em;">
                              <tr id="head">
                                <th id="table" cope="col" style="width:20%;">Museo</th>
                                <th scope="col" >Città</th>
                              </tr>
                              <tr id="consoleName">
                              </tr>
                            </table>
                        </div>
                  </div>
                </div>
              </div>

              <div class="tab-pane" id="asia">
                <div class="tab-content tab-space tab-subcategories">
                  <div class="tab-pane active" id="america">
                          <div style="background-color: rgb(255, 255, 255);">
                            <table id="table21" class="table table-striped" style="width:100%; margin-top:3em;">
                              <tr id="head">
                                <th id="table" cope="col" style="width:20%;">Museo</th>
                                <th scope="col" >Città</th>
                              </tr>
                              <tr id="consoleName">
                              </tr>
                            </table>
                        </div>
                  </div>
                </div>
              </div>

              <div class="tab-pane" id="oceania">
                <div class="tab-content tab-space tab-subcategories">
                  <div class="tab-pane active" id="america">
                          <div style="background-color: rgb(255, 255, 255);">
                            <table id="table21" class="table table-striped" style="width:100%; margin-top:3em;">
                              <tr id="head">
                                <th id="table" cope="col" style="width:20%;">Museo</th>
                                <th scope="col" >Città</th>
                              </tr>
                              <tr id="consoleName">
                              </tr>
                            </table>
                        </div>
                  </div>
                </div>
              </div>

              <div class="tab-pane" id="africa">
                <div class="tab-content tab-space tab-subcategories">
                  <div class="tab-pane active" id="america">
                          <div style="background-color: rgb(255, 255, 255);">
                            <table id="table21" class="table table-striped" style="width:100%; margin-top:3em;">
                              <tr id="head">
                                <th id="table" cope="col" style="width:20%;">Museo</th>
                                <th scope="col" >Città</th>
                              </tr>
                              <tr id="consoleName">
                              </tr>
                            </table>
                        </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
      </div>
    </div>

  <footer class="footer">
    <p>All Right Reserved © AssisTV 2020/2021 - Università degli Studi di Torino</p>
  </footer>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="modernizr-3.7.1.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.3.1.min.js"><\/script>')</script>
  <script src="plugins.js"></script>

  <!--<script src="./css/bootstrap.min.js.download"></script>-->

  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->

  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-XXXXX-Y', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>
  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-XXXXX-Y', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

  <script>
    $(document).ready(function () {
        var key = "dba";
        var url = "http://localhost:8890/sparql";
        var defGIRI= "http://localhost:8890/DAV/MuseumInformator";
        var query = "SELECT ?museo ?citta ?nazione WHERE {{?museo museum:localizzatoIn ?nazione} UNION {{?museo museum:museoInCittà ?citta} UNION {?citta museum:cittàHaMuseo ?museo} ?citta museum:contenutaIn ?nazione.}.}";
        var queryUrl = encodeURI(url + "?default-graph-uri=" + defGIRI + "&query=" + query+ "&wskey="+ key + "&format=json");

        $.ajax({
          dataType: 'jsonp',
          url: queryUrl,
          method: 'GET',

          statusCode:{

          },
          success: function (dati) {
            var str = "";
            var table = $("#table11");

            if(dati.head.vars){
                $.each(dati.results.bindings, function(index, entity){
                    var i = 0
                    if(entity.nazione.value.slice(entity.nazione.value.search("#") +1)=="Italia") {
                        if(i==0){
                            var row = $("<tr>").appendTo(table);
                            row.append($("<td>", {text: entity.museo.value.slice(entity.museo.value.search("#") +1)})); i=1;
                        }
                        row.append($("<td>", {text: entity.citta.value.slice(entity.citta.value.search("#") +1)}));
                        row.append($("</tr>"));
                    }
                });
            }
          },
          error: function (xhr){
            alert ("Errore nell'estrazione dei dati: " + xhr.status + " " + xhr.statusText);
          }
        });
      });
    </script>

</body>
</html>
